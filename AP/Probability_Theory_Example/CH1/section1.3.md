### **1.3 확률 변수 (Random Variables)**

이 절에서는 나중에 우리가 정의하는 양(quantities)들이 확률 변수, 즉 가측(measurable)임을 증명하는 데 도움이 될 몇 가지 결과들을 전개할 것입니다. 우리가 말해야 할 것의 대부분은 임의의 가측 공간 $(S, \mathcal{S})$의 확률적 원소(random elements)에 대해서도 참이며 증명도 동일하기 때문에(때로는 더 쉽기 때문에), 우리는 그 일반성 속에서 결과들을 전개할 것입니다. 먼저 정의가 필요합니다.

함수 $X: \Omega \rightarrow S$가 $(\Omega, \mathcal{F})$에서 $(S, \mathcal{S})$로 가는 **가측 사상(measurable map)**이라고 하는 것은 모든 $B \in \mathcal{S}$에 대해 다음을 만족하는 경우입니다.

$$ X^{-1}(B) \equiv \{\omega : X(\omega) \in B\} \in \mathcal{F} $$

만약 $(S, \mathcal{S}) = (\mathbb{R}^d, \mathcal{R}^d)$이고 $d > 1$이면 $X$는 **확률 벡터(random vector)**라고 불립니다. 물론, $d=1$이면 $X$는 **확률 변수(random variable)**, 또는 줄여서 r.v.라고 불립니다.

다음 결과는 사상이 가측임을 증명하는 데 유용합니다.

**정리 1.3.1.** 만약 모든 $A \in \mathcal{A}$에 대해 $\{\omega : X(\omega) \in A\} \in \mathcal{F}$이고, $\mathcal{A}$가 $\mathcal{S}$를 생성하면 (즉, $\mathcal{S}$가 $\mathcal{A}$를 포함하는 가장 작은 $\sigma$-필드이면), $X$는 가측이다.

**증명.** $\{\omega : X(\omega) \in B\}$를 줄여서 $\{X \in B\}$라고 쓰면, 우리는 다음을 갖는다.

$$ \{X \in \cup_i B_i\} = \cup_i \{X \in B_i\} $$

$$ \{X \in B^c\} = \{X \in B\}^c $$

따라서 집합들의 모임 $\mathcal{B} = \{B : \{X \in B\} \in \mathcal{F}\}$는 $\sigma$-필드이다. $\mathcal{B} \supset \mathcal{A}$이고 $\mathcal{A}$가 $\mathcal{S}$를 생성하므로, $\mathcal{B} \supset \mathcal{S}$이다. ◻

**[해설 및 추가 설명]**

*   **가측 사상(Measurable Map)**: 확률 변수의 개념을 일반적인 공간으로 확장한 것입니다. 확률 변수가 $\mathbb{R}$로 가는 함수였다면, 가측 사상은 임의의 가측 공간 $(S, \mathcal{S})$로 가는 함수입니다. 가측성의 조건은 여전히 동일합니다. 도착 공간($S$)에서 '측정 가능한 집합' $B$를 가져왔을 때, 그것의 역상 $X^{-1}(B)$이 출발 공간($\Omega$)에서 '측정 가능한 집합', 즉 '사건'이어야 한다는 것입니다.
*   **정리 1.3.1의 중요성**: 이 정리는 가측성을 확인하는 작업을 매우 간단하게 만들어 줍니다. $\sigma$-필드 $\mathcal{S}$에 속한 *모든* 집합 $B$에 대해 $X^{-1}(B) \in \mathcal{F}$임을 보일 필요 없이, $\mathcal{S}$를 생성하는 더 작은 집합들의 모임 $\mathcal{A}$에 대해서만 확인하면 충분하다는 것을 알려줍니다. 예를 들어, 확률 변수(즉, $S=\mathbb{R}$)의 경우, 보렐 $\sigma$-필드 $\mathcal{R}$을 생성하는 구간 $\{(-\infty, x] \mid x \in \mathbb{R}\}$에 대해서만 가측성을 확인하면 됩니다. 이는 $X \le x$인 사건이 모든 $x$에 대해 측정 가능하다는 것만 보이면 $X$가 확률 변수임을 증명하기에 충분하다는 뜻이며, 이것이 바로 분포 함수가 잘 정의되는 이유입니다.

---

이전 증명에서 보인 두 등식으로부터, 만약 $\mathcal{S}$가 $\sigma$-필드이면, $\{\{X \in B\} : B \in \mathcal{S}\}$도 $\sigma$-필드임이 따라나옵니다. 이것은 $X$를 가측 사상으로 만드는 $\Omega$ 위의 가장 작은 $\sigma$-필드입니다. 이것을 $X$에 의해 **생성된 $\sigma$-필드($\sigma$-field generated by $X$)**라고 부르며 $\sigma(X)$로 표기합니다. 나중의 참조를 위해 다음을 기록해 둡시다.

$$ \sigma(X) = \{\{X \in B\} : B \in \mathcal{S}\} \quad (1.3.1) $$

**예제 1.3.2.** 만약 $(S, \mathcal{S}) = (\mathbb{R}, \mathcal{R})$이면, 정리 1.3.1에서 $\mathcal{A}$의 가능한 선택은 $\{(-\infty, x] : x \in \mathbb{R}\}$ 또는 $\{(-\infty, x) : x \in \mathbb{Q}\}$ (여기서 $\mathbb{Q}$는 유리수) 입니다.

**예제 1.3.3.** 만약 $(S, \mathcal{S}) = (\mathbb{R}^d, \mathcal{R}^d)$이면, $\mathcal{A}$의 유용한 선택은 다음과 같습니다.

$$ \{(a_1, b_1) \times \dots \times (a_d, b_d) : -\infty < a_i < b_i < \infty\} $$

또는 때때로 더 큰 모임인 열린 집합들입니다.

**정리 1.3.4.** 만약 $X: (\Omega, \mathcal{F}) \to (S, \mathcal{S})$와 $f: (S, \mathcal{S}) \to (T, \mathcal{T})$가 가측 사상이면, $f(X)$는 $(\Omega, \mathcal{F})$에서 $(T, \mathcal{T})$로 가는 가측 사상이다.

**증명.** $B \in \mathcal{T}$라고 하자. $\{\omega : f(X(\omega)) \in B\} = \{\omega : X(\omega) \in f^{-1}(B)\} \in \mathcal{F}$ 이다. 왜냐하면 가정에 의해 $f^{-1}(B) \in \mathcal{S}$이기 때문이다. ◻

**[해설 및 추가 설명]**

*   **$\sigma(X)$**: 확률 변수 $X$가 제공하는 '정보'를 담고 있는 $\sigma$-필드입니다. $\sigma(X)$에 속한 사건은 $X$의 값을 관찰함으로써 발생 여부를 알 수 있는 사건들로만 이루어져 있습니다.
*   **정리 1.3.4 (가측 함수의 합성)**: "가측 함수의 가측 함수는 가측 함수이다"라는 중요한 결과입니다. 예를 들어, $X$가 확률 변수이면 $X^2, \sin(X), e^X$ 등도 모두 확률 변수입니다. 왜냐하면 $f(x)=x^2, \sin(x), e^x$ 등이 모두 (보렐) 가측 함수이기 때문입니다. 이 정리는 우리가 기존의 확률 변수들을 조합하여 새로운 확률 변수들을 만들 수 있음을 보장합니다.

---

정리 1.3.4로부터, 만약 $X$가 확률 변수이면 모든 $c \in \mathbb{R}$에 대해 $cX$, $X^2$, $\sin(X)$ 등도 그렇다는 것이 즉시 따라나옵니다. 다음 결과는 왜 우리가 가측 사상에 대한 정리 1.3.4를 증명하고 싶었는지를 보여줍니다.

**정리 1.3.5.** 만약 $X_1, \dots, X_n$이 확률 변수들이고 $f: (\mathbb{R}^n, \mathcal{R}^n) \to (\mathbb{R}, \mathcal{R})$이 가측이면, $f(X_1, \dots, X_n)$은 확률 변수이다.

**증명.** 정리 1.3.4에 비추어 볼 때, $(X_1, \dots, X_n)$이 확률 벡터임을 보이는 것으로 충분하다. 이를 위해, 만약 $A_1, \dots, A_n$이 보렐 집합들이면 다음을 관찰한다.

$$ \{(X_1, \dots, X_n) \in A_1 \times \dots \times A_n\} = \cap_i \{X_i \in A_i\} \in \mathcal{F} $$

$A_1 \times \dots \times A_n$ 형태의 집합들이 $\mathcal{R}^n$을 생성하므로, 원하는 결과는 정리 1.3.1로부터 따라나온다. ◻

**정리 1.3.6.** 만약 $X_1, \dots, X_n$이 확률 변수들이면, $X_1 + \dots + X_n$은 확률 변수이다.

**증명.** 정리 1.3.5에 비추어 볼 때, $f(x_1, \dots, x_n) = x_1 + \dots + x_n$이 가측임을 보이는 것으로 충분하다. 이를 위해, 예제 1.3.2를 사용하고 $\{x : x_1 + \dots + x_n < a\}$가 열린 집합이므로 $\mathcal{R}^n$에 속한다는 점에 주목한다. ◻

**정리 1.3.7.** 만약 $X_1, X_2, \dots$가 확률 변수들이면, 다음도 그렇다.

$$ \inf_n X_n \quad \sup_n X_n \quad \limsup_n X_n \quad \liminf_n X_n $$

**증명.** 수열의 하한(infimum)이 $a$보다 작은 것은 어떤 항이 $a$보다 작은 것과 필요충분조건이므로 (만약 모든 항이 $\ge a$이면 하한도 그렇다), 우리는 다음을 갖는다.

$$ \{\inf_n X_n < a\} = \cup_n \{X_n < a\} \in \mathcal{F} $$

유사한 논증은 $\{\sup_n X_n > a\} = \cup_n \{X_n > a\} \in \mathcal{F}$임을 보여준다. 마지막 두 개에 대해서는 다음을 관찰한다.

$$ \liminf_{n \to \infty} X_n = \sup_n (\inf_{m \ge n} X_m) $$

$$ \limsup_{n \to \infty} X_n = \inf_n (\sup_{m \ge n} X_m) $$

첫 번째 경우의 증명을 완성하기 위해, $Y_n = \inf_{m \ge n} X_m$이 각 $n$에 대해 확률 변수이므로 $\sup_n Y_n$도 그렇다는 점에 주목한다. ◻

정리 1.3.7로부터, 우리는 다음이 가측 집합임을 알 수 있다.

$$ \Omega_o \equiv \{\omega : \lim_{n \to \infty} X_n \text{ exists}\} = \{\omega : \limsup_{n \to \infty} X_n - \liminf_{n \to \infty} X_n = 0\} $$

(여기서 $\equiv$는 첫 번째 등식이 정의임을 나타낸다.) 만약 $P(\Omega_o)=1$이면, 우리는 $X_n$이 **거의 확실하게(almost surely)**, 또는 줄여서 **a.s.** 수렴한다고 말한다. 이 유형의 수렴은 측도론에서 **거의 어디서나(almost everywhere)** 수렴이라고 불린다. 극한이 전체 공간에서 정의되도록 하기 위해, 다음과 같이 두는 것이 편리하다.

$$ X_\infty = \limsup_{n \to \infty} X_n $$

하지만 이 확률 변수는 $+\infty$ 또는 $-\infty$ 값을 가질 수 있다. 이것과 몇몇 다른 골칫거리들을 수용하기 위해, 우리는 확률 변수의 정의를 일반화할 것이다.

정의역이 $D \in \mathcal{F}$이고 공역이 $\mathbb{R}^* \equiv [-\infty, \infty]$인 함수가 **확률 변수**라고 하는 것은, 모든 $B \in \mathcal{R}^*$에 대해 $X^{-1}(B) = \{\omega : X(\omega) \in B\} \in \mathcal{F}$인 경우이다. 여기서 $\mathcal{R}^*$는 $\mathbb{R}^*$의 보렐 부분집합들이고, $\mathbb{R}^*$에는 통상적인 위상, 즉 $a, b \in \mathbb{R}$일 때 $[-\infty, a), (a,b), (b, \infty]$ 형태의 구간들에 의해 생성되는 위상이 주어진다. 독자는 **확장된 실수 직선(extended real line)** $(\mathbb{R}^*, \mathcal{R}^*)$이 가측 공간이므로, 위의 모든 결과들이 즉시 일반화된다는 점에 주목해야 한다.

---

### **연습문제 (Exercises)**

**1.3.1.** 만약 $\mathcal{A}$가 $\mathcal{S}$를 생성하면, $X^{-1}(\mathcal{A}) \equiv \{\{X \in A\} : A \in \mathcal{A}\}$는 $\sigma(X) = \{\{X \in B\} : B \in \mathcal{S}\}$를 생성함을 보여라.

**1.3.2.** $n=2$일 때 $\{X_1+X_2 < x\} \in \mathcal{F}$임을 확인함으로써 정리 1.3.6을 증명하라.

**1.3.3.** 만약 $f$가 연속이고 $X_n \to X$ almost surely이면, $f(X_n) \to f(X)$ almost surely임을 보여라.

**1.3.4.** (i) $\mathbb{R}^d \to \mathbb{R}$인 연속 함수는 $(\mathbb{R}^d, \mathcal{R}^d)$에서 $(\mathbb{R}, \mathcal{R})$로 가는 가측 사상임을 보여라. (ii) $\mathcal{R}^d$가 모든 연속 함수를 가측으로 만드는 가장 작은 $\sigma$-필드임을 보여라.

**1.3.5.** 함수 $f$가 **하반연속(lower semicontinuous)** 또는 l.s.c.라고 하는 것은 $\liminf_{y \to x} f(y) \ge f(x)$인 경우이다. **상반연속(upper semicontinuous)** (u.s.c.)는 $-f$가 l.s.c.인 경우이다. $f$가 l.s.c.인 것은 각 $a \in \mathbb{R}$에 대해 $\{x : f(x) \le a\}$가 닫힌 집합인 것과 필요충분조건임을 보이고, 반연속 함수들이 가측임을 결론지어라.

**1.3.6.** 임의의 함수 $f: \mathbb{R}^d \to \mathbb{R}$에 대해 $f^\delta(x) = \sup\{f(y) : |y-x| < \delta\}$와 $f_\delta(x) = \inf\{f(y) : |y-x| < \delta\}$ (여기서 $|z| = (z_1^2 + \dots + z_d^2)^{1/2}$)라 하자. $f^\delta$는 l.s.c.이고 $f_\delta$는 u.s.c.임을 보여라. $f^0 = \lim_{\delta \downarrow 0} f^\delta$, $f_0 = \lim_{\delta \downarrow 0} f_\delta$라 하고, $f$가 불연속인 점들의 집합 = $\{f^0 \neq f_0\}$이 가측임을 결론지어라.

**1.3.7.** 함수 $\phi: \Omega \to \mathbb{R}$이 **단순(simple)**하다고 하는 것은 $\phi(\omega) = \sum_{m=1}^n c_m 1_{A_m}(\omega)$인 경우이다. 여기서 $c_m$은 실수이고 $A_m \in \mathcal{F}$이다. $\mathcal{F}$-가측 함수들의 클래스는 단순 함수들을 포함하고 점별 극한(pointwise limits)에 대해 닫혀 있는 가장 작은 클래스임을 보여라.

**1.3.8.** 이전 연습문제를 사용하여, $Y$가 $\sigma(X)$에 대해 가측인 것은 $Y = f(X)$ (여기서 $f: \mathbb{R} \to \mathbb{R}$는 가측)인 것과 필요충분조건임을 결론지어라.

**1.3.9.** 마지막 결과의 구성적 증명을 얻기 위해, $\{\omega : m2^{-n} \le Y < (m+1)2^{-n}\} = \{X \in B_{m,n}\}$ (어떤 $B_{m,n} \in \mathcal{R}$에 대해)임을 주목하고, $x \in B_{m,n}$에 대해 $f_n(x) = m2^{-n}$으로 설정한 다음, $n \to \infty$일 때 $f_n(x) \to f(x)$이고 $Y=f(X)$임을 보여라.
